<div class="history-container">
	<mat-card class="history-entry" *ngFor="let timeEntry of trackerEntries; index as i">

		<div class="history-main">
			<mat-form-field class="history-entry-name">
				<input type="text" [value]="timeEntry.name" (change)="onChangeName(i, timeEntryName.value)" #timeEntryName matInput>
			</mat-form-field>
			<div class="history-entry-duration" matTooltip="Click to edit">
				<span (click)="onClickTime(i)">{{ timeEntry.duration | duration }}</span>
			</div>
			<div class="history-entry-delete" matTooltip="Click to delete">
				<button mat-mini-fab color="warn" (click)="onClickDelete(i)">
					<mat-icon>delete</mat-icon>
				</button>
			</div>
		</div>

		<div class="history-edit" *ngIf="timeEntry.opened">
			<mat-form-field class="history-entry-input"> 
				<input type="text" [value]="timeEntry.start | date:'HH:mm'" [type]="'time'" placeholder="Start Time" matInput>
			</mat-form-field>

			<mat-form-field class="history-entry-input">
				<input [matDatepicker]="startDate" placeholder="Start Date" [value]="timeEntry.start" matInput>
				<mat-datepicker-toggle matSuffix [for]="startDate"></mat-datepicker-toggle>	
				<mat-datepicker #startDate></mat-datepicker>
			</mat-form-field>

			<mat-form-field class="history-entry-input">
				<input type="text" [value]="timeEntry.end | date:'HH:mm'" [type]="'time'" placeholder="End Time" matInput>
			</mat-form-field>
			
			<mat-form-field class="history-entry-input">
				<input [matDatepicker]="endDate" placeholder="End Date" [value]="timeEntry.end" matInput>
				<mat-datepicker-toggle matSuffix [for]="endDate"></mat-datepicker-toggle>
				<mat-datepicker #endDate></mat-datepicker>
			</mat-form-field>
		</div>

	</mat-card>
</div>

